{% extends 'base.html' %}
{% load static %}

{% block estilo %}
<link href="{% static 'usuario/css/usuario.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}

<div class='conatiner container-edit'>
    <h1>Editar Cadastro</h1>
    <h2>Olá {{ form.nome.value }} {{ form.sobrenome.value }}</h2>
    <form method="post" autocomplete='off'>
        {% csrf_token %}

        
        <div class='row'>

            <input type="hidden" name="usuario" required="" id="id_usuario" value={{usuario_id}} class="col-4">

            <label for="id_foto">Foto</label>
            <input type="file" name="foto" accept="image/*" id="id_foto" class="form-control col-3">
            
            <label for="id_fundo">Fundo</label>
            <input type="file" name="fundo" accept="image/*" id="id_fundo" class="form-control col-3">
        </div>
        <br>
        <h3>Informações Básicas</h3>
        <br>


        <div class="row">
            <div class="form-gorup col-3">
                <label for="id_nome">Primeiro Nome</label>
                <input type="text" name="nome"required="" id="id_nome" class="form-control" value='{{form.nome.value}}'>
            </div>

            <div class="form-gorup col-2">
                <label for="id_sobrenome">Sobrenome</label>
                <input type="text" name="sobrenome" maxlength="50" required="" id="id_sobrenome" class="form-control" value='{{form.sobrenome.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="{{ form.nascimento.id_for_label }}" >{{ form.nascimento.label }}</label>
                <input type="date" name="nascimento" value="{{ form.nascimento.value|date:'Y-m-d' }}" class="form-control" required="" id="id_nascimento" value="{{ form.nascimento.value }}">
            </div>


            <div class="form-group col-1">
                <label for="{{ form.sexo.id_for_label }}" >{{ form.sexo.label }}</label>
                {{form.sexo}}
                    
                </select>
            </div>
            
            <div class="form-group col-2">
                <label for="id_email">E-mail</label>
                <input type="email" name="email" required="" class="form-control" id="id_email"value='{{form.email.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="id_contato">Contato</label>
                <input type="text" name="contato" class="form-control" required="" id="id_contato"value='{{form.contato.value}}'>
            </div>

            <div class="form-goup col-4">
                <label for="id_endereco">Endereço</label>
                <input type="text" name="endereco" class="form-control" required="" id="id_endereco"value='{{form.endereco.value}}'>
            </div>
            
            <div class="form-group col-3">
                <label for="id_bairro">Bairro</label>
                <input type="text" name="bairro" class="form-control" required="" id="id_bairro"value='{{form.bairro.value}}'>
            </div>

            <div class="form-group col-3">
                <label for="id_cidade">Cidade</label>
                <input type="text" name="cidade" class="form-control" required="" id="id_cidade"value='{{form.cidade.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="{{ form.estado.id_for_label }}" >{{ form.estado.label }}</label>
                {{ form.estado }}
            </div>

            <div class="form-group col-2">
                <label for="id_numero">Número</label>
                <input type="text" name="numero" class="form-control" required="" id="id_numero"value='{{form.numero.value}}'>
            </div>
            
            <div class="form-group col-2">
                <label for="id_complemento">Complemento</label>
                <input type="text" name="complemento" class="form-control" id="id_complemento"value='{{form.complemento.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="id_cpf">CPF</label>
                <input type="text" name="cpf" class="form-control" required="" id="id_cpf"value='{{form.cpf.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="id_rg">RG</label>
                <input type="text" name="rg" class="form-control" required="" id="id_rg"value='{{form.rg.value}}'>
            </div>
        </div>

        <br>
        <h3>Informações Profissionais</h3>
        <br>

        <div class="row">
            <div class="form-group col-3">
                <label for="id_cargo_inicial">Cargo Inicial</label>
                <input type="text" name="cargo_inicial" class="form-control" required="" id="id_cargo_inicial"value='{{form.cargo_inicial.value}}'>
            </div>

            <div class="form-group col-3">
                <label for="id_cargo">Cargo</label>
                <input type="text" name="cargo" class="form-control" required="" id="id_cargo"value='{{form.cargo.value}}'>
            </div>

            <div class="form-group - col-2">
                <label for="id_setor">Setor Atual</label>
                <input type="text" name="setor" class="form-control" required="" id="id_setor"value='{{form.setor.value}}'>
            </div>

            <div class="form-group - col-2">
                <label for="id_cidade_trabalho">Cidade em que Trabalha</label>
                <input type="text" name="cidade_trabalho" class="form-control" required="" id="id_cidade_trabalho"value='{{form.cidade_trabalho.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="{{ form.estado_trabalho.id_for_label }}" >{{ form.estado_trabalho.label }}</label>
                {{ form.estado_trabalho }}
            </div>

            <div class="form-group col-2">
                <label for="{{ form.data_inicio.id_for_label }}" >{{ form.data_inicio.label }}</label>
                <input type="date" name="data_inicio" value="{{ form.data_inicio.value|date:'Y-m-d' }}" class="form-control" required="" id="form.data_inicio.id_for_label">
            </div>

            <div class="form-group col-2">
                <label for="{{ form.data_mudanca.id_for_label }}" >{{ form.data_mudanca.label }}</label>
                <input type="date" name="data_mudanca" value="{{form.data_mudanca.value|date:'Y-m-d'}}" class="form-control" required="" id="form.data_mudanca.id_for_label">
            </div>


            <div class="form-group col-3">
                <label for="id_email_empresa">E-mail Corporativo</label>
                <input type="email" name="email_empresa" class="form-control" required="" id="id_email_empresa"value='{{form.email_empresa.value}}'>
            </div>

            <div class="form-group col-2">
                <label for="id_telefone">Telefone Corporativo</label>
                <input type="text" name="telefone" class="form-control" required="" id="id_telefone"value='{{form.telefone.value}}'>
            </div>

            <div class="form-group col-3">
                <label for="id_obra_trabalho">Obra em que Trabalha Atualmente</label>
                <input type="text" name="obra_trabalho" class="form-control" required="" id="id_obra_trabalho"value='{{form.obra_trabalho.value}}'>
            </div>
        </div>

        <h3> Experiência Profissional </h3>

        <div class="row">
            <div class="form-group col-12">
                <label for="id_texto_experiencia">Texto experiencia</label>
                <textarea name="texto_experiencia" id="id_texto_experiencia" class="form-control">'{{form.texto_experiencia.value}}'</textarea>
                <br>
            </div>      
        </div>


        <!-- Formulario Experiência -->
        
        {{ form_experiencia.management_form }}
            
        
        {% for fe in form_experiencia%}
        <div class="row inline-experiencia"> 
            {{fe.id}}
            <div class="form-group col-5">
                <label for="{{fe.empresa.id_for_label}}">{{ fe.empresa.label }}</label>
                {{ fe.empresa }}
            </div>

            <div class="form-group col-3">
                <label for="{{fe.localidade.id_for_label}}">{{ fe.localidade.label }}</label>
                {{ fe.localidade }}
            </div>

            <div class="form-group col-2">
                <label for="{{fe.forma_trabalho.id_for_label}}">{{ fe.forma_trabalho.label }}</label>
                {{ fe.forma_trabalho }}
            </div>

            <div class="form-group col-2">
                <label for="{{ fe.inicio_trabalho.id_for_label }}" >{{ fe.inicio_trabalho.label }}</label>
                <input type="date" name="{{fe.inicio_trabalho.html_name}}" value="{{fe.inicio_trabalho.value|date:'Y-m-d'}}" class="form-control" id="{{fe.inicio_trabalho.id}}">
            </div>

            <div class="form-group col-10">
                <label for="{{fe.descricao_trabalho.id_for_label}}">{{ fe.descricao_trabalho.label }}</label>
                {{ fe.descricao_trabalho }}
            </div> 

            <div class="form-group col-2">
                <label for="{{ fe.termino_trabalho.id_for_label }}" >{{ fe.termino_trabalho.label }}</label>
                <input type="date" name="{{fe.termino_trabalho.html_name}}" value="{{fe.termino_trabalho.value|date:'Y-m-d'}}" class="form-control" id="{{ fe.termino_trabalho.id }}">
            </div>

        </div>
        {% endfor %}

        <!--Formulário Formação-->

        <h3>Formação Acadêmica</h3>

        {{ form_formacao.management_form }}
            
        
        {% for ff in form_formacao%}

        <div class="row inline-formacao"> 
            {{ff.id}}
            <div class="form-group col-4">
                <label for="{{ff.instituicao.id_for_label}}">Instituição de Ensino</label>
                {{ ff.instituicao }}
            </div>

            <div class="form-group col-2">
                <label for="{{ff.diploma.id_for_label}}">Diploma</label>
                {{ ff.diploma }}
            </div>

            <div class="form-group col-4">
                <label for="{{ff.area_estudo.id_for_label}}">Área de estudo</label>
                {{ ff.area_estudo }}
            </div>

            <div class="form-group col-2">
                <label for="{{ ff.inicio_faculdade.id_for_label }}" >Início</label>
                <input type="date" name="{{ff.inicio_faculdade.html_name}}" value="{{ff.inicio_faculdade.value|date:'Y-m-d'}}" class="form-control" id="{{ff.inicio_faculdade.id}}">
            </div>

            <div class="form-group col-10">
                <label for="{{ff.descricao_faculdade.id_for_label}}">Descrição</label>
                {{ ff.descricao_faculdade }}
            </div> 

            <div class="form-group col-2">
                <label for="{{ ff.termino_faculdade.id_for_label }}" >Término</label>
                <input type="date" name="{{ff.termino_faculdade.html_name}}" value="{{ff.termino_faculdade.value|date:'Y-m-d'}}" class="form-control" id="{{ ff.termino_faculdade.id }}">
            </div>

        </div>
        {% endfor %}

        <!--Formulário Cursos-->

        <h3>Licenças ou Cursos</h3>

        {{ form_cursos.management_form }}
            
        
        {% for fc in form_cursos%}

        <div class="row inline-cursos"> 
            {{fc.id}}
            <div class="form-group col-3">
                <label for="{{fc.nome_certificado.id_for_label}}">Nome do Certificado</label>
                {{ fc.nome_certificado }}
            </div>

            <div class="form-group col-3">
                <label for="{{fc.organizacao.id_for_label}}">Organização</label>
                {{ fc.organizacao }}
            </div>

            <div class="form-group col-2">
                <label for="{{ fc.inicio_curso.id_for_label }}" >Data de Início</label>
                <input type="date" name="{{fc.inicio_curso.html_name}}" value="{{fc.inicio_curso.value|date:'Y-m-d'}}" class="form-control" id="{{fc.inicio_curso.id}}">
            </div>

            <div class="form-group col-2">
                <label for="{{ fc.termino_curso.id_for_label }}" >Data do Término</label>
                <input type="date" name="{{fc.termino_curso.html_name}}" value="{{fc.termino_curso.value|date:'Y-m-d'}}" class="form-control" id="{{ fc.termino_curso.id }}">
            </div>

            <div class="form-group col-2">
                <label for="{{fc.horas.id_for_label}}">Horas</label>
                {{ fc.horas }}
            </div>

            <div class="form-group col-12">
                <label for="{{fc.descricao_curso.id_for_label}}">Horas</label>
                {{ fc.descricao_curso }}
            </div>

        </div>
        {% endfor %}
        <!--Formulário Habilidades-->

        <h3>Habilbidades</h3>

        {{ form_habilidades.management_form }}
            
        
        {% for fh in form_habilidades%}

        <div class="row inline-habilidades"> 
            {{fh.id}}
            <div class="form-group col-3">
                <label for="{{fh.habilidades.id_for_label}}">Habilidades</label>
                {{ fh.habilidades }}
            </div>
        </div>
        {% endfor %}
        <!--Formulário Hobbies-->

        <h3>Hobbies</h3>

        {{ form_hobbies.management_form }}
            
        
        {% for fho in form_hobbies%}

        <div class="row inline-hobbies"> 
            {{fho.id}}
            <div class="form-group col-3">
                <label for="{{fho.hobbies.id_for_label}}">Hobbies</label>
                {{ fho.hobbies }}
            </div>
        </div>

        {% endfor %}


        
<!--**************************************************************************-->
        <button class="btn btn-primary" type="submit">editar</button>  
        <a class="btn btn-danger" href="{% url 'perfil' %}">Cancelar</a>
    </form>     
</div>

{% endblock %}

{% block scripts %}
    <!-- Script InLineForm Experiencia-->
    <script type="text/javascript">
        $(function() {
            $('.inline-experiencia').formset({
                prefix: '{{ form_experiencia.prefix }}',
                addText: '<img src={% static "usuario/img/adicionar.png" %} >',
                deleteText: 'Remover Experiência'
            });
        })
    </script>

    <!-- Script InLineForm Formação-->
    <script type="text/javascript">
        $(function() {
            $('.inline-formacao').formset({
                prefix: '{{ form_formacao.prefix }}',
                addText: '<img src={% static "usuario/img/adicionar.png" %} >',
                deleteText: 'Remover Experiência'
            });
        })
    </script>

    <!-- Script InLineForm Cursos -->
    <script type="text/javascript">
        $(function() {
            $('.inline-cursos').formset({
                prefix: '{{ form_cursos.prefix }}',
                addText: '<img src={% static "usuario/img/adicionar.png" %} >',
                deleteText: 'Remover Experiência'
            });
        })
    </script>


    <!-- Script InLineForm Habilidades -->
    <script type="text/javascript">
        $(function() {
            $('.inline-habilidades').formset({
                prefix: '{{ form_habilidades.prefix }}',
                addText: '<img src={% static "usuario/img/adicionar.png" %} >',
                deleteText: 'Remover Experiência'
            });
        })
    </script>

    <!-- Script InLineForm Hobbies -->
    <script type="text/javascript">
        $(function() {
            $('.inline-hobbies').formset({
                prefix: '{{ form_hobbies.prefix }}',
                addText: '<img src={% static "usuario/img/adicionar.png" %} >',
                deleteText: 'Remover Experiência'
            });
        })
    </script>

    <!-- Script Máscaras -->
    <script type="text/javascript" src="{% static 'usuario/js/jquery.mask.min.js' %}"></script>
    <script>
        $(document).ready(function(){
            $('#id_cpf').mask('000.000.000-00');
            $('#id_contato').mask('(00)99999-9999');
            $('#id_telefone').mask('(00)99999-9999');
        })
    </script>
{% endblock %}